{
  "name": "@grain/binaryen.ml",
  "version": "0.3.1",
  "description": "OCaml bindings for Binaryen.",
  "author": "Oscar Spencer <oscar@grain-lang.org>",
  "license": "Apache-2.0",
  "dependencies": {
    "ocaml": "^4.9.0",
    "@opam/dune": "^2.7.1",
    "@opam/js_of_ocaml": "^3.6.0",
    "@opam/js_of_ocaml-ppx": "^3.6.0",
    "esy-cmake": "Et7f3/esy-cmake-1#36f9dae25d70cd545249d277f731550780bf9506"
  },
  "devDependencies": {
    "@opam/js_of_ocaml-compiler": "^3.6.0",
    "@opam/ocamlformat": "^0.15.0",
    "@opam/ocaml-lsp-server": "^1.1.0"
  },
  "esy": {
    "build": [
      [
        "bash",
        "-c",
        "#{os == 'windows' ? './windows-setup.sh' : './setup.sh'}"
      ],
      "dune build -p binaryen --no-buffer"
    ],
    "buildEnv": {
      "DUNE_BUILD_DIR": "#{self.target_dir}",
      "CC": "#{os == 'windows' ? 'x86_64-w64-mingw32-gcc' : ''}",
      "CXX": "#{os == 'windows' ? 'x86_64-w64-mingw32-g++' : ''}",
      "PATH": "#{os == 'windows' ? '/usr/x86_64-w64-mingw32/sys-root/mingw/bin' : '' : $PATH }",
      "OCAMLPATH": "#{os == 'windows' ? '/usr/x86_64-w64-mingw32/sys-root/mingw/lib' : '' : $OCAMLPATH }"
    },
    "exportedEnv": {
      "PATH": {
        "val": "#{os == 'windows' ? '/usr/x86_64-w64-mingw32/sys-root/mingw/bin' : '' : $PATH }",
        "scope": "global"
      },
      "OCAMLPATH": {
        "val": "#{os == 'windows' ? '/usr/x86_64-w64-mingw32/sys-root/mingw/lib' : '' : $OCAMLPATH }",
        "scope": "global"
      }
    }
  },
  "scripts": {
    "test": "dune runtest --force",
    "format": "dune build @fmt --auto-promote"
  },
  "installConfig": {
    "pnp": false
  },
  "keywords": [
    "binaryen",
    "ocaml"
  ]
}
